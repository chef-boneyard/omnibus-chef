#
# Chef Server Config File
#
# Dynamically generated by Chef - local modifications will be replaced

log_level          :info
log_location       STDOUT
chef_server_url    "<%= node['chef_server']['erchef']['url'] %>"
file_cache_path    "<%= File.join(@dir, 'cache') %>"
sandbox_path       "<%= File.join(@dir, 'sandbox') %>"
checksum_path      "<%= File.join(@dir, 'checksum') %>"
cookbook_tarball_path  "<%= File.join(@dir, 'cookbook-tarballs') %>"
validation_client_name "<%= @validation_client_name %>"
validation_key "/etc/chef-server/validation.pem"
web_ui_client_name "chef-webui"
web_ui_key "/etc/chef-server/webui.pem"
web_ui_admin_user_name  "<%= @web_ui_admin_user_name %>"
web_ui_admin_default_password "<%= @web_ui_admin_default_password %>"

solr_url        "<%= node['chef_server']['chef-solr']['url'] %>"

amqp_host '<%= node['chef_server']['rabbitmq']['vip'] %>'
amqp_port '<%= node['chef_server']['rabbitmq']['node_port'] %>'
amqp_user '<%= node['chef_server']['rabbitmq']['user'] %>'
amqp_pass '<%= node['chef_server']['rabbitmq']['password'] %>'
amqp_vhost '<%= node['chef_server']['rabbitmq']['vhost'] %>'
amqp_consumer_id "<%= node['chef_server']['rabbitmq']['consumer_id'] %>"

umask <%= node['chef_server']['umask'] %>

signing_ca_cert    "<%= File.join(@dir, 'cert.pem') %>"
signing_ca_key     "<%= File.join(@dir, 'key.pem') %>"
signing_ca_user    "<%= node['chef_server']['user']['username'] %>"
signing_ca_group   "<%= node['chef_server']['user']['username'] %>"

